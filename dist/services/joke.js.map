{"version":3,"file":"joke.js","names":["axios","require","jsdom","JSDOM","constants","getRandomJoke","res","get","JOKE_API_RUS","window","document","data","jokesList","querySelectorAll","randomJokeIndex","Math","floor","random","length","innerHTML","module","exports"],"sources":["../../src/services/joke.js"],"sourcesContent":["const axios = require(\"axios\");\nconst jsdom = require(\"jsdom\");\nconst { JSDOM } = jsdom;\nconst constants = require(\"../constants\");\n\nconst getRandomJoke = async () => {\n\tconst res = await axios.get(constants.JOKE_API_RUS);\n\tconst {\n\t\twindow: { document },\n\t} = new JSDOM(res.data);\n\n\tconst jokesList = document.querySelectorAll(\".topicbox[data-id] div.text\");\n\n\tconst randomJokeIndex = Math.floor(Math.random() * jokesList.length - 1);\n\tif (jokesList[randomJokeIndex]) {\n\t\treturn jokesList[randomJokeIndex].innerHTML;\n\t} else {\n\t\treturn \"Анекдотов нет, расходимся\";\n\t}\n};\n\nmodule.exports.getRandomJoke = getRandomJoke;\n"],"mappings":"AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAO,CAAC;AAC9B,MAAMC,KAAK,GAAGD,OAAO,CAAC,OAAO,CAAC;AAC9B,MAAM;EAAEE;AAAM,CAAC,GAAGD,KAAK;AACvB,MAAME,SAAS,GAAGH,OAAO,CAAC,cAAc,CAAC;AAEzC,MAAMI,aAAa,GAAG,YAAY;EACjC,MAAMC,GAAG,GAAG,MAAMN,KAAK,CAACO,GAAG,CAACH,SAAS,CAACI,YAAY,CAAC;EACnD,MAAM;IACLC,MAAM,EAAE;MAAEC;IAAS;EACpB,CAAC,GAAG,IAAIP,KAAK,CAACG,GAAG,CAACK,IAAI,CAAC;EAEvB,MAAMC,SAAS,GAAGF,QAAQ,CAACG,gBAAgB,CAAC,6BAA6B,CAAC;EAE1E,MAAMC,eAAe,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAE,GAAGL,SAAS,CAACM,MAAM,GAAG,CAAC,CAAC;EACxE,IAAIN,SAAS,CAACE,eAAe,CAAC,EAAE;IAC/B,OAAOF,SAAS,CAACE,eAAe,CAAC,CAACK,SAAS;EAC5C,CAAC,MAAM;IACN,OAAO,2BAA2B;EACnC;AACD,CAAC;AAEDC,MAAM,CAACC,OAAO,CAAChB,aAAa,GAAGA,aAAa"}