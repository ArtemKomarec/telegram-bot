{"version":3,"file":"joke.js","names":["axios","require","jsdom","JSDOM","constants","getRandomJoke","res","get","JOKE_API_RUS","window","document","data","jokesList","querySelectorAll","randomJokeIndex","Math","floor","random","length","innerHTML","module","exports"],"sources":["../../src/services/joke.js"],"sourcesContent":["const axios = require('axios');\nconst jsdom = require(\"jsdom\");\nconst { JSDOM } = jsdom;\nconst constants = require('../constants');\n\nconst getRandomJoke = async () => {\n    const res = await axios.get(constants.JOKE_API_RUS);\n    const { window: { document } } = new JSDOM(res.data);\n\n    const jokesList = document.querySelectorAll('.topicbox[data-id] div.text');\n\n    const randomJokeIndex = Math.floor(Math.random() * jokesList.length - 1);\n    if(jokesList[randomJokeIndex]) {\n        return jokesList[randomJokeIndex].innerHTML\n    } else{\n        'Анекдотов нет, расходимся'\n    }\n}\n\nmodule.exports.getRandomJoke = getRandomJoke;\n"],"mappings":"AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAO,CAAC;AAC9B,MAAMC,KAAK,GAAGD,OAAO,CAAC,OAAO,CAAC;AAC9B,MAAM;EAAEE;AAAM,CAAC,GAAGD,KAAK;AACvB,MAAME,SAAS,GAAGH,OAAO,CAAC,cAAc,CAAC;AAEzC,MAAMI,aAAa,GAAG,YAAY;EAC9B,MAAMC,GAAG,GAAG,MAAMN,KAAK,CAACO,GAAG,CAACH,SAAS,CAACI,YAAY,CAAC;EACnD,MAAM;IAAEC,MAAM,EAAE;MAAEC;IAAS;EAAE,CAAC,GAAG,IAAIP,KAAK,CAACG,GAAG,CAACK,IAAI,CAAC;EAEpD,MAAMC,SAAS,GAAGF,QAAQ,CAACG,gBAAgB,CAAC,6BAA6B,CAAC;EAE1E,MAAMC,eAAe,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,EAAE,GAAGL,SAAS,CAACM,MAAM,GAAG,CAAC,CAAC;EACxE,IAAGN,SAAS,CAACE,eAAe,CAAC,EAAE;IAC3B,OAAOF,SAAS,CAACE,eAAe,CAAC,CAACK,SAAS;EAC/C,CAAC,MAAK;IACF,2BAA2B;EAC/B;AACJ,CAAC;AAEDC,MAAM,CAACC,OAAO,CAAChB,aAAa,GAAGA,aAAa"}